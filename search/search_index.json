{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Welcome to Ivan's Cloud laboratory! \u26c5\u26c5\u26c5  This is a (hopefully!) long-term experiment in maintaing a Platform/SRE/DevOps/[insert buzzword here] \"portfolio\" that's continuously maintained.</p> <p>This also hosts my blog/website: ivanlee.me</p>"},{"location":"development/","title":"Development","text":""},{"location":"development/#usage","title":"Usage","text":"<ol> <li>Use <code>.devcontainer</code> locally to generate development environment.</li> <li><code>eval $(op signin)</code> to log in to 1Password (or use an access token).</li> <li>Run <code>task --list</code> to see all the commands!</li> </ol>"},{"location":"development/#tags","title":"Tags","text":"<p>Since this is a monolith, I'm using the following scheme:</p> Component Tag format Terraform Modules <code>tm_vX.Y.Z</code> <p>Note: Terraform has a weird issue where <code>/</code> in the git ref is interepreted as part of the path (e.g. <code>//</code>).  Sadness. \ud83d\ude2d</p>"},{"location":"development/#resources","title":"Resources","text":"Name Link Descriptions IconDuck Link Handy icons for lots of things."},{"location":"infrastructure/","title":"Infrastructure","text":""},{"location":"infrastructure/#cloudflare","title":"Cloudflare","text":"<p>Cloudflare is used for:</p> <ul> <li>SSL termination (so I don't need to run CertManager)</li> <li>WAF/DNS protection</li> </ul>"},{"location":"infrastructure/#civo","title":"Civo","text":"<p>I host my Kubernetes cluster on Civo, a Kubernetes-first cloud native service provider.</p>"},{"location":"infrastructure/#firewall","title":"Firewall","text":"<p>HTTP/HTTPS traffic is restricted to Cloudflare public IPs and my home IP.</p>"},{"location":"infrastructure/#kubernetes","title":"Kubernetes","text":"<p>I'm using a <code>k3d</code> cluster for Kubernetes.</p>"},{"location":"infrastructure/#observability","title":"Observability","text":"<p>Metrics and logs are shipped to Grafana (using their free tier).</p> <p>Webistes are monitored with UptimeRobot which supports Discord alerting in it's free tier.</p>"},{"location":"kubernetes/","title":"Kubernetes","text":""},{"location":"kubernetes/#deployment","title":"Deployment","text":"<p>Applications are (for now) deployed through Helm charps \"wrapping\" public Helm charts as subcharts.  This means I can use renovate to keep charts up to date!</p> <p>Deployments are done through ArgoCD in a Gitops-ey way.</p>"},{"location":"kubernetes/#secrets","title":"Secrets","text":"<p>Secrets are managed through the 1Password Kubernetes Operator.  Since I'm only using a single licence, this is free (with the price of a family plan).</p>"},{"location":"tooling/","title":"Tooling","text":""},{"location":"tooling/#devcontainer","title":"Devcontainer","text":"<p>After losing a few local environments, I've decided to use an Ubuntu-based <code>.devcontainer</code> to automate my development environment.  It's a little chonky (hi pyenv!) but it's nice to automate all the things.</p>"},{"location":"tooling/#task","title":"Task","text":"<p>I use task as an easier to use / more flexible task runner.</p>"},{"location":"tooling/#python","title":"Python","text":"<p>I use pyenv to manage Python installations and poetry for dependency management.  Dependencies are automatically installed as part of devcontainer bootstrapping.</p>"},{"location":"tooling/#opentofu","title":"OpenTofu","text":"<p>I'm taking OpenTofu for a spin!</p>"},{"location":"tooling/#spacelift","title":"Spacelift","text":"<p>I'm using Spacelift for Terraform/OpenTofu adjacent tasks including:</p> <ul> <li>state management</li> <li>PR checks</li> <li>Applyign Terraform on merge</li> </ul> <p>Basically it automates a significant amount of CI/CD and has a very generous free tier!</p>"}]}